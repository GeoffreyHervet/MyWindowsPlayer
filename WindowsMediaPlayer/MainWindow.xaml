<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wm="clr-namespace:WindowsMediaPlayer"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d" x:Class="WindowsMediaPlayer.MainWindow"
        Title="MainWindow" Height="468" Width="569"
        Loaded="Window_Loaded" Background="Black">
	<Window.Resources>
		<ControlTemplate x:Key="ButtonControlTemplateMediaPlayer" TargetType="{x:Type Button}">
			<Border x:Name="border" CornerRadius="2">
				<Border.Effect>
					<DropShadowEffect Color="White" Direction="0" BlurRadius="3" ShadowDepth="0" Opacity="0.75"/>
				</Border.Effect>
				<Border.Background>
					<LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
						<GradientStop Color="Gainsboro" Offset="1"/>
						<GradientStop Color="#FFF2F2F2"/>
						<GradientStop Color="#FFEBEBEB" Offset="0.5"/>
						<GradientStop Color="Gainsboro" Offset="0.5"/>
					</LinearGradientBrush>
				</Border.Background>
				<VisualStateManager.VisualStateGroups>
					<VisualStateGroup x:Name="CommonStates">
						<VisualState x:Name="Normal"/>
						<VisualState x:Name="MouseOver">
							<Storyboard>
								<ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[1].(GradientStop.Color)" Storyboard.TargetName="border">
									<EasingColorKeyFrame KeyTime="0" Value="#FFD8E2FF"/>
								</ColorAnimationUsingKeyFrames>
								<ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[3].(GradientStop.Color)" Storyboard.TargetName="border">
									<EasingColorKeyFrame KeyTime="0" Value="#FFD0DBFF"/>
								</ColorAnimationUsingKeyFrames>
								<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[3].(GradientStop.Offset)" Storyboard.TargetName="border">
									<EasingDoubleKeyFrame KeyTime="0" Value="0.5"/>
								</DoubleAnimationUsingKeyFrames>
								<ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[2].(GradientStop.Color)" Storyboard.TargetName="border">
									<EasingColorKeyFrame KeyTime="0" Value="#FFBFCEFF"/>
								</ColorAnimationUsingKeyFrames>
								<ColorAnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[0].(GradientStop.Color)" Storyboard.TargetName="border">
									<EasingColorKeyFrame KeyTime="0" Value="#FFD4DEFF"/>
								</ColorAnimationUsingKeyFrames>
							</Storyboard>
						</VisualState>
						<VisualState x:Name="Pressed"/>
						<VisualState x:Name="Disabled"/>
					</VisualStateGroup>
				</VisualStateManager.VisualStateGroups>
				<Grid Background="#00000000">
					<TextBlock Margin="0" TextWrapping="Wrap" Text="{TemplateBinding Content}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
				</Grid>
			</Border>
		</ControlTemplate>
	</Window.Resources>
    <Window.DataContext>
        <wm:ModelPlayer />
    </Window.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="270*" />
            <RowDefinition Height="30*" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0"  Background="Black">
            <Viewbox>
                  <Grid>
                    <MediaElement x:Name="mediaElement" VerticalAlignment="Center" Height="auto" Width="auto"
                        Source="{Binding mediaElement.Source}"
                        LoadedBehavior="{Binding mediaElement.LoadedBehavior}"
                        Volume="{Binding mediaElement.Volume}" />
                 </Grid>
             </Viewbox>
        </Grid>

        <Grid Grid.Row="1"  Background="Black" Margin="8,0">
             <Grid.ColumnDefinitions>
                <ColumnDefinition Width="113.801" />
                <ColumnDefinition />
                <ColumnDefinition Width="62.829" />
            </Grid.ColumnDefinitions>

            <Button Command="{Binding PlayFile}" Height="23" Width="20" x:Name="LectureButton" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Center">
            	<Canvas Height="9.353" Width="8.68">
            		<Path Visibility="{Binding VisiblePlay}" Height="9.353" Width="8.68" Fill="#FF2C5E90" Stretch="Fill" Data="M15.639187,16.184645 L15.627616,24.492212 L23.324333,20.374496 z"/>
            		<StackPanel Visibility="{Binding VisiblePause}" Height="9.353" Width="8.68" Orientation="Horizontal">
            			<Rectangle Height="9.353" Width="2.18" Fill="#FF2C5E90" Margin="0,0,1,0"/>
            			<Rectangle Height="9.353" Width="2.18" Fill="#FF2C5E90" Margin="2,0,0,0"/>
            		</StackPanel>
            	</Canvas>
            </Button>

            <Button Command="{Binding StopFile}" x:Name="Stop" HorizontalAlignment="Left" VerticalAlignment="Center" Height="23" Width="20" Margin="25,0,0,0">
            	<StackPanel Height="9.353" Width="9.353" Orientation="Horizontal">
            		<Rectangle Height="9.353" Width="9.353" Fill="#FF2C5E90" />
            	</StackPanel>
            </Button>
            <Button Command="{Binding FindRessource}" x:Name="Parcourir" HorizontalAlignment="Left" Margin="50,0,0,0" VerticalAlignment="Center" Content="Parcourir..." BorderThickness="4,1,1,1" Cursor="Hand" Foreground="#FF2C5E90" Height="23"/>
            <Slider Grid.Column="1" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center" MinWidth="100" Value="{Binding Position, ElementName=mediaElement}"/>
            <Slider x:Name="Volume" VerticalAlignment="Center" Value="{Binding ValueSoundContent}" SmallChange="1" Maximum="100" Margin="0,0,36,0" Grid.Column="2" Orientation="Vertical" HorizontalAlignment="Right" Height="43" />
            <TextBox Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right" x:Name="txtValue" Text="{Binding Value, ElementName=Volume, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Height="22" Width="30" Margin="0"/>
        </Grid>
    </Grid>
</Window>
